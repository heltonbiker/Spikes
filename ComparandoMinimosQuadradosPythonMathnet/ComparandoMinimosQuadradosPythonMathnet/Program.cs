using MathNet.Numerics.LinearAlgebra;
using Newtonsoft.Json;

namespace ComparandoMinimosQuadradosPythonMathnet
{
	class Program
	{
		static void Main(string[] args)
		{
			var inputstring = "[[1.0, 1.2964161374116825, 1.2146279550953718, 12084.083925925881, 1.6806948013414265, 1.4753210692991645, 146025084.32882026, 1.5746632819369923, 15666.00140740743, 14677.666148148206], [1.0, -1.2190083824510871, 1.1724011058248773, 11951.71503703699, 1.4859814364860158, 1.3745243529393951, 142843492.32653612, -1.4291667755954496, -14569.240814814797, 14012.203925925984], [1.0, -1.2137377805023088, -1.1673040054155028, 11187.74392592588, 1.473159399818671, 1.3625986410590762, 125165614.15209144, 1.4168009727044675, -13578.987481481467, -13059.498296296244], [1.0, 1.3042926271247444, -1.2018810741469206, 12190.3911481481, 1.7011792571719675, 1.4445181163925556, 148605636.34484753, -1.5676046236905967, 15899.837296296313, -14651.40040740735]]";
			var input = JsonConvert.DeserializeObject<double[,]>(inputstring);
			var inputmatrix = Matrix<double>.Build.DenseOfArray(input);

			var referencia = new double[,]
			{
				{ 20,  30, 90},
				{-20,  30, 90},
				{-20, -30, 90},
				{ 20, -30, 90}
			};



			var refmatrix = Matrix<double>.Build.DenseOfArray(referencia);

			var outputmatrix = inputmatrix.Solve(refmatrix);
		}
	}
}
